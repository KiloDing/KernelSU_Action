# 内核来源
KERNEL_SOURCE=https://github.com/MiCode/Xiaomi_Kernel_OpenSource
KERNEL_BRANCH=pipa-t-oss

# 内核配置（官方路径为 pipa_user_defconfig）
KERNEL_DEFCONFIG=arch/arm64/configs/pipa_user_defconfig

# 架构与内核镜像名
ARCH=arm64
KERNEL_IMAGE=Image.gz-dtb

# 工具链 - 用支持的 revision 格式（r450784d 对应 Clang 14.0.6，最兼容 Android 13）
CLANG_VERSION=r450784d
EXTRA_CMDS=LLVM=1 LLVM_IAS=1

# KernelSU 集成（non-GKI 用 v0.9.5）
ENABLE_KERNELSU=true
KERNELSU_TAG=v0.9.5
APPLY_KERNELSU_PATCH=true
ADD_KPROBES_CONFIG=true
ADD_OVERLAYFS_CONFIG=true

# 可选优化
ENABLE_CCACHE=true
REMOVE_UNUSED_PACKAGES=true
DISABLE_LTO=false
DISABLE_CC_WERROR=false

# AnyKernel3
USE_CUSTOM_ANYKERNEL3=false

# DTBO
NEED_DTBO=false

# 打包 boot.img（可选）
BUILD_BOOT_IMG=false
