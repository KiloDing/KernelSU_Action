# ========================================
# 内核源码配置
# ========================================
# 小米 Pad 6 官方内核源码
KERNEL_SOURCE=https://github.com/MiCode/Xiaomi_Kernel_OpenSource

# 小米 Pad 6 专用分支
KERNEL_SOURCE_BRANCH=pipa-t-oss

# 内核配置文件（如果编译失败可尝试 vendor/kona-perf_defconfig）
KERNEL_CONFIG=vendor/pipa-perf_defconfig

# 架构
ARCH=arm64

# 内核镜像名称
KERNEL_IMAGE_NAME=Image

# ========================================
# Clang 编译器配置
# ========================================
# 使用 Google 官方 Clang
USE_CUSTOM_CLANG=false

# Clang 分支
CLANG_BRANCH=master-kernel-build-2022

# Clang 版本（适合 Android 13）
CLANG_VERSION=r450784d

# 自定义 Clang 配置（不使用时保持空）
CUSTOM_CLANG_SOURCE=""
CUSTOM_CLANG_BRANCH=""
CUSTOM_CMDS=""

# ========================================
# GCC 交叉编译器配置
# ========================================
ENABLE_GCC_ARM64=true
ENABLE_GCC_ARM32=true

# ========================================
# KernelSU 配置
# ========================================
# 启用 KernelSU
ENABLE_KERNELSU=true

# KernelSU 版本（v0.9.5 是最后支持 Non-GKI 的版本）
KERNELSU_TAG=v0.9.5

# KernelSU 管理器签名配置（官方默认值）
KSU_EXPECTED_SIZE=0x033b
KSU_EXPECTED_HASH=c371061b19d8c7d7d6133c6a9bafe198fa944e50c1b31c9d8daa8d7f1fc2d2d6

# ========================================
# 内核补丁和配置注入
# ========================================
# 自动注入 Kprobes 配置（KernelSU 必需）
ADD_KPROBES_CONFIG=true

# 自动注入 OverlayFS 配置（模块支持必需）
ADD_OVERLAYFS_CONFIG=true

# 应用 KernelSU 补丁（如果 Kprobes 工作不正常则启用）
APPLY_KSU_PATCH=false

# ========================================
# 编译优化配置
# ========================================
# 禁用 LTO 优化（可能导致编译错误）
DISABLE_LTO=false

# 禁用编译警告错误（推荐开启，避免警告中断编译）
DISABLE_CC_WERROR=true

# 启用 ccache 缓存（加速二次编译）
ENABLE_CCACHE=true

# 额外编译参数（通常不需要）
EXTRA_CMDS=""

# ========================================
# 输出文件配置
# ========================================
# 是否需要 DTBO（小米 Pad 6 需要）
NEED_DTBO=true

# 是否编译 boot.img（推荐 false，使用 AnyKernel3）
BUILD_BOOT_IMG=false

# boot.img 源文件（仅当 BUILD_BOOT_IMG=true 时使用）
SOURCE_BOOT_IMAGE=https://raw.githubusercontent.com/xiaoleGun/KernelSU_action/main/boot/boot.img

# ========================================
# AnyKernel3 配置
# ========================================
# 使用自定义 AnyKernel3（通常不需要）
USE_CUSTOM_ANYKERNEL3=false

# 自定义 AnyKernel3 源（仅当 USE_CUSTOM_ANYKERNEL3=true 时使用）
CUSTOM_ANYKERNEL3_SOURCE=""
CUSTOM_ANYKERNEL3_BRANCH=""

# ========================================
# 系统优化
# ========================================
# 清理无用包以释放磁盘空间
REMOVE_UNUSED_PACKAGES=true
