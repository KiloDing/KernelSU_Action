KERNEL_SOURCE=https://github.com/MiCode/Xiaomi_Kernel_OpenSource.git
KERNEL_BRANCH=pipa-t-oss
KERNEL_CONFIG=pipa_user_defconfig
ARCH=arm64
KERNEL_IMAGE_NAME=Image.gz-dtb

# 用社区自定义 Clang（2025 年活跃，零 404，优化强）
USE_CUSTOM_CLANG=true               # 启用自定义 Clang
CUSTOM_CLANG_SOURCE=https://github.com/ZyCromerZ/Clang.git
# CUSTOM_CLANG_BRANCH=master        # 默认 master 最新（可不写）

# 不要设置 CLANG_VERSION 和 CLANG_BRANCH（会优先用 AOSP 路径）
# CLANG_VERSION=...
# CLANG_BRANCH=...

ENABLE_GCC_64=true
ENABLE_GCC_32=true

EXTRA_CMDS=LLVM=1 LLVM_IAS=1

ENABLE_KERNELSU=true
KERNELSU_TAG=v0.9.5                 # 非 GKI 最后官方兼容版
ADD_KPROBES_CONFIG=true
ADD_OVERLAYFS_CONFIG=true
APPLY_KERNELSU_PATCH=true

DISABLE_LTO=true
DISABLE_CC_WERROR=true
ENABLE_CCACHE=true
REMOVE_UNUSED_PACKAGES=true

CUSTOM_ANYKERNEL3_SOURCE=https://github.com/osm0sis/AnyKernel3.git
ANYKERNEL3_BRANCH=master

BUILD_BOOT_IMG=false                # 不打包 boot.img
NEED_DTBO=true                      # pipa 需要
