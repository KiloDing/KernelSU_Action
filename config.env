# 内核来源
KERNEL_SOURCE=https://github.com/MiCode/Xiaomi_Kernel_OpenSource
KERNEL_BRANCH=pipa-t-oss

# 内核配置（小米高通平台常见路径，实际多为 pipa_defconfig 或类似；若编译失败日志报错，可调整为 vendor/pipa_defconfig 等）
KERNEL_DEFCONFIG=arch/arm64/configs/pipa_defconfig

# 架构与内核镜像名（小米 sm8250/sm8450 等平台常用 Image.gz-dtb）
ARCH=arm64
KERNEL_IMAGE=Image.gz-dtb

# 工具链（Android 13 推荐 Clang 17+ 或 14）
CLANG_VERSION=17.0.2
EXTRA_CMDS=LLVM=1 LLVM_IAS=1

# KernelSU 集成（non-GKI 必须用 v0.9.5 或更早）
ENABLE_KERNELSU=true
KERNELSU_TAG=v0.9.5
APPLY_KERNELSU_PATCH=true
ADD_KPROBES_CONFIG=true
ADD_OVERLAYFS_CONFIG=true

# 可选优化（推荐启用）
ENABLE_CCACHE=true
REMOVE_UNUSED_PACKAGES=true
DISABLE_LTO=false
DISABLE_CC_WERROR=false

# AnyKernel3（使用默认即可，无需自定义）
USE_CUSTOM_ANYKERNEL3=false

# DTBO（pipa 通常不需要单独 dtbo）
NEED_DTBO=false

# 打包 boot.img（暂不启用；如需启用，请提供官方股票 boot.img 的直链）
BUILD_BOOT_IMG=false
# SOURCE_BOOT_IMAGE=https://your-stock-boot-img-direct-link.img
